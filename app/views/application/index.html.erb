
<%= render 'header' %>
<!-- Modal content -->
<!--Modal implemented using http://www.w3schools.com/howto/howto_css_modals.asp-->
<div ng-controller="LoginCtrl as ctrl" id="myModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <span ng-click="ctrl.close()" class="close">Ã—</span>
        <h2>Login</h2>
      </div>
      <div class="modal-body">

        <%= form_for :session, url: login_path  do |f| %>
            <!--username input-->
            <md-input-container class="md-icon-float md-block">
              <label>Username</label>
              <md-icon class="name"><span class="glyphicon glyphicon-user"></span></md-icon>
              <input ng-model="user.name" type="text" ng-required="true" name="session[username]">
            </md-input-container>

            <!--password input-->
            <md-input-container class="md-block">
              <label>Password</label>
              <md-icon class="password"><span class="glyphicon glyphicon-lock"></span></md-icon>
              <input ng-model="user.password" type="password" ng-required="true" name="session[password]">
            </md-input-container>

            <button type="submit" class="btn btn-success btn-block" name="commit"><span class="glyphicon glyphicon-send"></span> Submit</button>
        <% end %>


      </div>
      <div class="modal-footer">

      </div>
    </div>
</div>
<!--end modal content-->
<div class="container">
    <div class="header clearfix">
        <nav>
            <!--Navigation pills at the top right of the page-->
            <ul class="nav nav-pills pull-right">
                <li role="presentation" class="active"><a href="#">Home</a>
                </li>
                <li role="presentation"><a href="#">About</a>
                </li>
                <li role="presentation"><a href="#">Contact</a>
                </li>
                <li role="presentation">
                    <!--Account button-->
                    <div class="md-menu-demo" ng-controller="LoginCtrl as ctrl" ng-cloak>

                        <md-menu>
                          <a href="#"><!--href based on nav nav-pills-->
                              <md-button aria-label="account button" class="md-icon-button" ng-click="ctrl.openMenu($mdOpenMenu, $event)">
                            <span class="glyphicon glyphicon-user"></span>
                          </md-button>
                          </a><!--end of href-->
                          <md-menu-content width="4">
                            <md-menu-item>
                              <md-button ng-click="ctrl.login()">
                                <span class="glyphicon glyphicon-tree-deciduous" ></span>
                                Login
                              </md-button>
                            </md-menu-item>
                            <md-menu-item>
                              <md-button ng-click="ctrl.signup()">
                                <span class="glyphicon glyphicon-grain" ></span>
                                Sign Up
                              </md-button>
                            </md-menu-item>
                          </md-menu-content>
                        </md-menu>
                    </div>
                    <!--end of account button-->
                </li>
            </ul>
        </nav>
        <h3 class="text-muted">{{title}}</h3>
    </div>




    <!--Search bar at the top of the page-->
    <div class="input-group input-group-lg" id="search-bar">
        <span class="input-group-addon" id="sizing-addon1"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></span>
        <input type="text" class="form-control" placeholder="What are you looking for?" aria-describedby="sizing-addon1">
    </div>

    <!--In the future we may use cards instead https://material.angularjs.org/latest/demo/card-->
    <div ng-controller="MainCtrl as mainCtrl" ng-cloak="" class="gridListdemoBasicUsage" ng-app="proquo">
        <md-grid-list md-cols-xs="1" md-cols-sm="2" md-cols-md="4" md-cols-gt-md="6" md-row-height-gt-md="1:1" md-row-height="2:2" md-gutter="12px" md-gutter-gt-sm="8px">

            <md-grid-tile class="gray" md-rowspan="3" md-colspan="2" md-colspan-sm="1" md-colspan-xs="1">
                <md-grid-tile-footer>
                    <h3>#1: (3r x 2c)</h3>
                </md-grid-tile-footer>
            </md-grid-tile>

            <md-grid-tile class="green">
                <md-grid-tile-footer>
                    <h3>#2: (1r x 1c)</h3>
                </md-grid-tile-footer>
            </md-grid-tile>

            <md-grid-tile class="yellow">
                <md-grid-tile-footer>
                    <h3>#3: (1r x 1c)</h3>
                </md-grid-tile-footer>
            </md-grid-tile>

            <md-grid-tile class="blue" md-rowspan="2">
                <md-grid-tile-footer>
                    <h3>#4: (2r x 1c)</h3>
                </md-grid-tile-footer>
            </md-grid-tile>

            <md-grid-tile class="red" md-rowspan="2" md-colspan="2" md-colspan-sm="1" md-colspan-xs="1">
                <md-grid-tile-footer>
                    <h3>#5: (2r x 2c)</h3>
                </md-grid-tile-footer>
            </md-grid-tile>

            <md-grid-tile class="green" md-rowspan="2">
                <md-grid-tile-footer>
                    <h3>#6: (2r x 1c)</h3>
                </md-grid-tile-footer>
            </md-grid-tile>

        </md-grid-list>
    </div>

    <!--Footer of the page. This should be moved into another file-->
    <footer class="footer">
        <hr>
        <p>&copy; 2016 ProQuo, Inc.</p>
    </footer>

</div>

<script>
    //fix to close the login modal when clicking outside the box. Move over to Angular asap
    var modal = document.getElementById('myModal');
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>
